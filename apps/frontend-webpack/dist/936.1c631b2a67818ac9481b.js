/*! For license information please see 936.1c631b2a67818ac9481b.js.LICENSE.txt */
(self.webpackChunkxss_blog_frontend_webpack=self.webpackChunkxss_blog_frontend_webpack||[]).push([[936],{86:(r,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>l});var a=e(1354),t=e.n(a),o=e(6314),i=e.n(o)()(t());i.push([r.id,"\n.profile-banner[data-v-d9aa1c26] {\n  width: 100%;\n  height: 300px;\n  background-size: cover;\n  background-position: center;\n  position: relative;\n}\n.banner-overlay[data-v-d9aa1c26] {\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(to bottom, transparent, var(--color-bg-base));\n}\n.profile-header[data-v-d9aa1c26] {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-lg);\n  margin-top: -80px;\n  margin-bottom: var(--spacing-2xl);\n  position: relative;\n  z-index: 10;\n}\n.profile-avatar[data-v-d9aa1c26] {\n  width: 160px;\n  height: 160px;\n  border-radius: 50%;\n  border: 6px solid var(--color-bg-base);\n  box-shadow: var(--shadow-lg);\n}\n.profile-info h1[data-v-d9aa1c26] {\n  font-size: 2.5rem;\n  margin-bottom: var(--spacing-sm);\n}\n.user-role[data-v-d9aa1c26] {\n  color: var(--color-text-muted);\n  text-transform: uppercase;\n  font-weight: 600;\n  letter-spacing: 1px;\n}\n.profile-bio[data-v-d9aa1c26] {\n  margin-bottom: var(--spacing-2xl);\n}\n.profile-bio h3[data-v-d9aa1c26] {\n  margin-bottom: var(--spacing-md);\n}\n.bio-content[data-v-d9aa1c26] {\n  color: var(--color-text-secondary);\n  line-height: 1.8;\n  min-height: 60px;\n}\n.bio-edit-section[data-v-d9aa1c26] {\n  margin-top: var(--spacing-lg);\n  padding-top: var(--spacing-lg);\n  border-top: 1px solid var(--color-border);\n}\n.user-articles h2[data-v-d9aa1c26] {\n  margin-bottom: var(--spacing-xl);\n}\n.articles-grid[data-v-d9aa1c26] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: var(--spacing-lg);\n}\n@media (max-width: 768px) {\n.profile-header[data-v-d9aa1c26] {\n    flex-direction: column;\n    text-align: center;\n}\n.articles-grid[data-v-d9aa1c26] {\n    grid-template-columns: 1fr;\n}\n}\n","",{version:3,sources:["webpack://./src/pages/Profile.vue"],names:[],mappings:";AAwHA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,2BAA2B;EAC3B,kBAAkB;AACpB;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,yEAAyE;AAC3E;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,iBAAiB;EACjB,iCAAiC;EACjC,kBAAkB;EAClB,WAAW;AACb;AAEA;EACE,YAAY;EACZ,aAAa;EACb,kBAAkB;EAClB,sCAAsC;EACtC,4BAA4B;AAC9B;AAEA;EACE,iBAAiB;EACjB,gCAAgC;AAClC;AAEA;EACE,8BAA8B;EAC9B,yBAAyB;EACzB,gBAAgB;EAChB,mBAAmB;AACrB;AAEA;EACE,iCAAiC;AACnC;AAEA;EACE,gCAAgC;AAClC;AAEA;EACE,kCAAkC;EAClC,gBAAgB;EAChB,gBAAgB;AAClB;AAEA;EACE,6BAA6B;EAC7B,8BAA8B;EAC9B,yCAAyC;AAC3C;AAEA;EACE,gCAAgC;AAClC;AAEA;EACE,aAAa;EACb,4DAA4D;EAC5D,sBAAsB;AACxB;AAEA;AACE;IACE,sBAAsB;IACtB,kBAAkB;AACpB;AAEA;IACE,0BAA0B;AAC5B;AACF",sourcesContent:['<template>\r\n  <div class="profile-page">\r\n    <div v-if="!loading && user" class="profile-container">\r\n      \x3c!-- 顶部横幅 --\x3e\r\n      <div class="profile-banner" :style="{ backgroundImage: `url(${user.bannerUrl})` }">\r\n        <div class="banner-overlay"></div>\r\n      </div>\r\n      \r\n      \x3c!-- 用户信息 --\x3e\r\n      <div class="container">\r\n        <div class="profile-header">\r\n          <img :src="user.avatarUrl" :alt="user.username" class="profile-avatar" />\r\n          <div class="profile-info">\r\n            <h1>{{ user.username }}</h1>\r\n            <p class="user-role">{{ user.role }}</p>\r\n          </div>\r\n        </div>\r\n        \r\n        \x3c!-- 个人简介（场景 4 落点）：VULN 直接渲染，SECURE 先净化再渲染 --\x3e\r\n        <div class="profile-bio card">\r\n          <h3>个人简介</h3>\r\n          <div v-if="configStore.xssMode === \'vuln\'" class="bio-content" v-html="user.bio || \'暂无简介\'"></div>\r\n          <div v-else class="bio-content" v-html="pure(user.bio) || \'暂无简介\'"></div>\r\n          \r\n          <div v-if="isOwnProfile" class="bio-edit-section">\r\n            <el-button @click="showEditDialog = true" type="primary">编辑简介</el-button>\r\n          </div>\r\n        </div>\r\n        \r\n        \x3c!-- 用户文章列表 --\x3e\r\n        <div class="user-articles">\r\n          <h2>发布的文章 ({{ articles.length }})</h2>\r\n          <div class="articles-grid">\r\n            <article-card v-for="article in articles" :key="article.id" :article="article" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <div v-else-if="loading" class="loading">\r\n      <div class="spinner"></div>\r\n    </div>\r\n    \r\n    \x3c!-- 编辑个人简介弹窗 --\x3e\r\n    <el-dialog v-model="showEditDialog" title="编辑个人简介" width="600px">\r\n      <el-input\r\n        v-model="bioContent"\r\n        type="textarea"\r\n        :rows="6"\r\n        placeholder="支持HTML格式（用于XSS演示）"\r\n      />\r\n      <template #footer>\r\n        <el-button @click="showEditDialog = false">取消</el-button>\r\n        <el-button type="primary" @click="updateBio" :loading="saving">保存</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// 个人主页（场景 4）：演示存储型 XSS（伪造登录页面）\r\n// - VULN：user.bio 原样渲染（可能执行恶意脚本）\r\n// - SECURE：使用 DOMPurify 净化后再渲染\r\nimport { ref, computed, onMounted } from \'vue\';\r\nimport { useRoute } from \'vue-router\';\r\nimport { useAuthStore } from \'@/stores/auth\';\r\nimport { useConfigStore } from \'@/stores/config\';\r\nimport { pure } from \'@/utils/xss\';\r\nimport axios from \'@/api/axios\';\r\nimport ArticleCard from \'@/components/ArticleCard.vue\';\r\nimport { ElMessage } from \'element-plus\';\r\n\r\nconst route = useRoute();\r\nconst authStore = useAuthStore();\r\nconst configStore = useConfigStore();\r\n\r\nconst user = ref(null);\r\nconst articles = ref([]);\r\nconst loading = ref(true);\r\nconst showEditDialog = ref(false);\r\nconst bioContent = ref(\'\');\r\nconst saving = ref(false);\r\n\r\nconst isOwnProfile = computed(() => {\r\n  return authStore.isAuthenticated && authStore.user?.username === route.params.username;\r\n});\r\n\r\nconst fetchProfile = async () => {\r\n  try {\r\n    const response = await axios.get(`/profile/${route.params.username}`);\r\n    user.value = response.data.user;\r\n    articles.value = response.data.articles.content || [];\r\n    bioContent.value = user.value.bio || \'\';\r\n  } catch (error) {\r\n    console.error(\'Failed to fetch profile:\', error);\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nconst updateBio = async () => {\r\n  saving.value = true;\r\n  try {\r\n    await axios.post(\'/profile/bio\', { bio: bioContent.value });\r\n    user.value.bio = bioContent.value;\r\n    showEditDialog.value = false;\r\n    ElMessage.success(\'简介已更新\');\r\n  } catch (error) {\r\n    ElMessage.error(\'更新失败\');\r\n  } finally {\r\n    saving.value = false;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  fetchProfile();\r\n});\r\n<\/script>\r\n\r\n<style scoped>\r\n.profile-banner {\r\n  width: 100%;\r\n  height: 300px;\r\n  background-size: cover;\r\n  background-position: center;\r\n  position: relative;\r\n}\r\n\r\n.banner-overlay {\r\n  position: absolute;\r\n  inset: 0;\r\n  background: linear-gradient(to bottom, transparent, var(--color-bg-base));\r\n}\r\n\r\n.profile-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-lg);\r\n  margin-top: -80px;\r\n  margin-bottom: var(--spacing-2xl);\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.profile-avatar {\r\n  width: 160px;\r\n  height: 160px;\r\n  border-radius: 50%;\r\n  border: 6px solid var(--color-bg-base);\r\n  box-shadow: var(--shadow-lg);\r\n}\r\n\r\n.profile-info h1 {\r\n  font-size: 2.5rem;\r\n  margin-bottom: var(--spacing-sm);\r\n}\r\n\r\n.user-role {\r\n  color: var(--color-text-muted);\r\n  text-transform: uppercase;\r\n  font-weight: 600;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.profile-bio {\r\n  margin-bottom: var(--spacing-2xl);\r\n}\r\n\r\n.profile-bio h3 {\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.bio-content {\r\n  color: var(--color-text-secondary);\r\n  line-height: 1.8;\r\n  min-height: 60px;\r\n}\r\n\r\n.bio-edit-section {\r\n  margin-top: var(--spacing-lg);\r\n  padding-top: var(--spacing-lg);\r\n  border-top: 1px solid var(--color-border);\r\n}\r\n\r\n.user-articles h2 {\r\n  margin-bottom: var(--spacing-xl);\r\n}\r\n\r\n.articles-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n  gap: var(--spacing-lg);\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .profile-header {\r\n    flex-direction: column;\r\n    text-align: center;\r\n  }\r\n  \r\n  .articles-grid {\r\n    grid-template-columns: 1fr;\r\n  }\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const l=i},512:(r,n,e)=>{"use strict";e.d(n,{A:()=>g});var a=e(1575),t=e(3523),o={class:"article-header"},i={class:"article-title"},l={class:"article-meta"},s=["src","alt"],c={class:"date"},A={class:"article-excerpt"},u={class:"article-footer"},d={class:"tags"},p={class:"stats"},v={class:"stat"};const f={__name:"ArticleCard",props:{article:{type:Object,required:!0}},setup:function(r){var n=r,e=(0,t.rd)(),f=function(){e.push("/article/".concat(n.article.id))};return function(n,e){var t,g=(0,a.g2)("router-link"),m=(0,a.g2)("View"),C=(0,a.g2)("el-icon");return(0,a.uX)(),(0,a.CE)("div",{class:"article-card card",onClick:f},[(0,a.Lk)("div",o,[(0,a.Lk)("h3",i,(0,a.v_)(r.article.title),1),(0,a.Lk)("div",l,[(0,a.bF)(g,{to:"/profile/".concat(r.article.author.username),class:"author-link",onClick:e[0]||(e[0]=(0,a.D$)(function(){},["stop"]))},{default:(0,a.k6)(function(){return[(0,a.Lk)("img",{src:r.article.author.avatarUrl,alt:r.article.author.username,class:"author-avatar"},null,8,s),(0,a.Lk)("span",null,(0,a.v_)(r.article.author.username),1)]}),_:1},8,["to"]),(0,a.Lk)("span",c,(0,a.v_)((t=r.article.publishedAt,t?new Date(t).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):"")),1)])]),(0,a.Lk)("p",A,(0,a.v_)(r.article.excerpt),1),(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.article.tags,function(r){return(0,a.uX)(),(0,a.CE)("span",{key:r.id,class:"tag",style:(0,a.Tr)({background:r.color+"20",color:r.color})},(0,a.v_)(r.name),5)}),128))]),(0,a.Lk)("div",p,[(0,a.Lk)("span",v,[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return[(0,a.bF)(m)]}),_:1}),(0,a.eW)(" "+(0,a.v_)(r.article.likesCount),1)])])])])}}};e(4122);const g=(0,e(6262).A)(f,[["__scopeId","data-v-35796a4b"]])},1265:(r,n,e)=>{var a=e(86);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[r.id,a,""]]),a.locals&&(r.exports=a.locals),(0,e(534).A)("5cf16015",a,!1,{})},1936:(r,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>M});var a=e(1575),t=e(3523),o=e(3776),i=e(5048),l=e(5341),s=e(5802),c=e(512),A=e(5587);function u(r){return function(r){if(Array.isArray(r))return d(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(r){if("string"==typeof r)return d(r,n);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(r,n):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,a=Array(n);e<n;e++)a[e]=r[e];return a}function p(){var r,n,e="function"==typeof Symbol?Symbol:{},a=e.iterator||"@@iterator",t=e.toStringTag||"@@toStringTag";function o(e,a,t,o){var s=a&&a.prototype instanceof l?a:l,c=Object.create(s.prototype);return v(c,"_invoke",function(e,a,t){var o,l,s,c=0,A=t||[],u=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(n,e){return o=n,l=0,s=r,d.n=e,i}};function p(e,a){for(l=e,s=a,n=0;!u&&c&&!t&&n<A.length;n++){var t,o=A[n],p=d.p,v=o[2];e>3?(t=v===a)&&(s=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=r):o[0]<=p&&((t=e<2&&p<o[1])?(l=0,d.v=a,d.n=o[1]):p<v&&(t=e<3||o[0]>a||a>v)&&(o[4]=e,o[5]=a,d.n=v,l=0))}if(t||e>1)return i;throw u=!0,a}return function(t,A,v){if(c>1)throw TypeError("Generator is already running");for(u&&1===A&&p(A,v),l=A,s=v;(n=l<2?r:s)||!u;){o||(l?l<3?(l>1&&(d.n=-1),p(l,s)):d.n=s:d.v=s);try{if(c=2,o){if(l||(t="next"),n=o[t]){if(!(n=n.call(o,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,l<2&&(l=0)}else 1===l&&(n=o.return)&&n.call(o),l<2&&(s=TypeError("The iterator does not provide a '"+t+"' method"),l=1);o=r}else if((n=(u=d.n<0)?s:e.call(a,d))!==i)break}catch(n){o=r,l=1,s=n}finally{c=1}}return{value:n,done:u}}}(e,t,o),!0),c}var i={};function l(){}function s(){}function c(){}n=Object.getPrototypeOf;var A=[][a]?n(n([][a]())):(v(n={},a,function(){return this}),n),u=c.prototype=l.prototype=Object.create(A);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,v(r,t,"GeneratorFunction")),r.prototype=Object.create(u),r}return s.prototype=c,v(u,"constructor",c),v(c,"constructor",s),s.displayName="GeneratorFunction",v(c,t,"GeneratorFunction"),v(u),v(u,t,"Generator"),v(u,a,function(){return this}),v(u,"toString",function(){return"[object Generator]"}),(p=function(){return{w:o,m:d}})()}function v(r,n,e,a){var t=Object.defineProperty;try{t({},"",{})}catch(r){t=0}v=function(r,n,e,a){function o(n,e){v(r,n,function(r){return this._invoke(n,e,r)})}n?t?t(r,n,{value:e,enumerable:!a,configurable:!a,writable:!a}):r[n]=e:(o("next",0),o("throw",1),o("return",2))},v(r,n,e,a)}function f(r,n,e,a,t,o,i){try{var l=r[o](i),s=l.value}catch(r){return void e(r)}l.done?n(s):Promise.resolve(s).then(a,t)}function g(r){return function(){var n=this,e=arguments;return new Promise(function(a,t){var o=r.apply(n,e);function i(r){f(o,a,t,i,l,"next",r)}function l(r){f(o,a,t,i,l,"throw",r)}i(void 0)})}}var m={class:"profile-page"},C={key:0,class:"profile-container"},b={class:"container"},E={class:"profile-header"},h=["src","alt"],B={class:"profile-info"},x={class:"user-role"},y={class:"profile-bio card"},k=["innerHTML"],w=["innerHTML"],_={key:2,class:"bio-edit-section"},L={class:"user-articles"},S={class:"articles-grid"},j={key:1,class:"loading"};const R={__name:"Profile",setup:function(r){var n=(0,t.lq)(),e=(0,o.n)(),d=(0,i.J)(),v=(0,a.KR)(null),f=(0,a.KR)([]),R=(0,a.KR)(!0),M=(0,a.KR)(!1),O=(0,a.KR)(""),z=(0,a.KR)(!1),T=(0,a.EW)(function(){var r;return e.isAuthenticated&&(null===(r=e.user)||void 0===r?void 0:r.username)===n.params.username}),D=function(){var r=g(p().m(function r(){var e,a;return p().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,s.A.get("/profile/".concat(n.params.username));case 1:e=r.v,v.value=e.data.user,f.value=e.data.articles.content||[],O.value=v.value.bio||"",r.n=3;break;case 2:r.p=2,a=r.v,console.error("Failed to fetch profile:",a);case 3:return r.p=3,R.value=!1,r.f(3);case 4:return r.a(2)}},r,null,[[0,2,3,4]])}));return function(){return r.apply(this,arguments)}}(),F=function(){var r=g(p().m(function r(){return p().w(function(r){for(;;)switch(r.p=r.n){case 0:return z.value=!0,r.p=1,r.n=2,s.A.post("/profile/bio",{bio:O.value});case 2:v.value.bio=O.value,M.value=!1,A.nk.success("简介已更新"),r.n=4;break;case 3:r.p=3,r.v,A.nk.error("更新失败");case 4:return r.p=4,z.value=!1,r.f(4);case 5:return r.a(2)}},r,null,[[1,3,4,5]])}));return function(){return r.apply(this,arguments)}}();return(0,a.sV)(function(){D()}),function(r,n){var e=(0,a.g2)("el-button"),t=(0,a.g2)("el-input"),o=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)("div",m,[!R.value&&v.value?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Q3)(" 顶部横幅 "),(0,a.Lk)("div",{class:"profile-banner",style:(0,a.Tr)({backgroundImage:"url(".concat(v.value.bannerUrl,")")})},u(n[4]||(n[4]=[(0,a.Lk)("div",{class:"banner-overlay"},null,-1)])),4),(0,a.Q3)(" 用户信息 "),(0,a.Lk)("div",b,[(0,a.Lk)("div",E,[(0,a.Lk)("img",{src:v.value.avatarUrl,alt:v.value.username,class:"profile-avatar"},null,8,h),(0,a.Lk)("div",B,[(0,a.Lk)("h1",null,(0,a.v_)(v.value.username),1),(0,a.Lk)("p",x,(0,a.v_)(v.value.role),1)])]),(0,a.Q3)(" 个人简介（场景 4 落点）：VULN 直接渲染，SECURE 先净化再渲染 "),(0,a.Lk)("div",y,[n[6]||(n[6]=(0,a.Lk)("h3",null,"个人简介",-1)),"vuln"===(0,a.R1)(d).xssMode?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"bio-content",innerHTML:v.value.bio||"暂无简介"},null,8,k)):((0,a.uX)(),(0,a.CE)("div",{key:1,class:"bio-content",innerHTML:(0,a.R1)(l.LM)(v.value.bio)||"暂无简介"},null,8,w)),T.value?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(e,{onClick:n[0]||(n[0]=function(r){return M.value=!0}),type:"primary"},{default:(0,a.k6)(function(){return u(n[5]||(n[5]=[(0,a.eW)("编辑简介",-1)]))}),_:1})])):(0,a.Q3)("v-if",!0)]),(0,a.Q3)(" 用户文章列表 "),(0,a.Lk)("div",L,[(0,a.Lk)("h2",null,"发布的文章 ("+(0,a.v_)(f.value.length)+")",1),(0,a.Lk)("div",S,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(f.value,function(r){return(0,a.uX)(),(0,a.Wv)(c.A,{key:r.id,article:r},null,8,["article"])}),128))])])])])):R.value?((0,a.uX)(),(0,a.CE)("div",j,u(n[7]||(n[7]=[(0,a.Lk)("div",{class:"spinner"},null,-1)])))):(0,a.Q3)("v-if",!0),(0,a.Q3)(" 编辑个人简介弹窗 "),(0,a.bF)(o,{modelValue:M.value,"onUpdate:modelValue":n[3]||(n[3]=function(r){return M.value=r}),title:"编辑个人简介",width:"600px"},{footer:(0,a.k6)(function(){return[(0,a.bF)(e,{onClick:n[2]||(n[2]=function(r){return M.value=!1})},{default:(0,a.k6)(function(){return u(n[8]||(n[8]=[(0,a.eW)("取消",-1)]))}),_:1}),(0,a.bF)(e,{type:"primary",onClick:F,loading:z.value},{default:(0,a.k6)(function(){return u(n[9]||(n[9]=[(0,a.eW)("保存",-1)]))}),_:1},8,["loading"])]}),default:(0,a.k6)(function(){return[(0,a.bF)(t,{modelValue:O.value,"onUpdate:modelValue":n[1]||(n[1]=function(r){return O.value=r}),type:"textarea",rows:6,placeholder:"支持HTML格式（用于XSS演示）"},null,8,["modelValue"])]}),_:1},8,["modelValue"])])}}};e(1265);const M=(0,e(6262).A)(R,[["__scopeId","data-v-d9aa1c26"]])},4122:(r,n,e)=>{var a=e(8919);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[r.id,a,""]]),a.locals&&(r.exports=a.locals),(0,e(534).A)("5c22d33b",a,!1,{})},8919:(r,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>l});var a=e(1354),t=e.n(a),o=e(6314),i=e.n(o)()(t());i.push([r.id,"\n.article-card[data-v-35796a4b] {\n  cursor: pointer;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  transition: all var(--transition-fast);\n}\n.article-card[data-v-35796a4b]:hover {\n  border-color: var(--color-primary);\n}\n.article-header[data-v-35796a4b] {\n  margin-bottom: var(--spacing-md);\n}\n.article-title[data-v-35796a4b] {\n  font-size: 1.5rem;\n  margin-bottom: var(--spacing-sm);\n  color: var(--color-text-primary);\n  line-height: 1.4;\n}\n.article-meta[data-v-35796a4b] {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  color: var(--color-text-secondary);\n  font-size: 0.9rem;\n}\n.author-link[data-v-35796a4b] {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-sm);\n  color: var(--color-text-secondary);\n  transition: color var(--transition-fast);\n}\n.author-link[data-v-35796a4b]:hover {\n  color: var(--color-primary);\n}\n.author-avatar[data-v-35796a4b] {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n}\n.article-excerpt[data-v-35796a4b] {\n  flex: 1;\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n  margin-bottom: var(--spacing-md);\n}\n.article-footer[data-v-35796a4b] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: var(--spacing-md);\n  border-top: 1px solid var(--color-border);\n}\n.tags[data-v-35796a4b] {\n  display: flex;\n  gap: var(--spacing-sm);\n  flex-wrap: wrap;\n}\n.tag[data-v-35796a4b] {\n  padding: 4px 10px;\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n}\n.stats[data-v-35796a4b] {\n  display: flex;\n  gap: var(--spacing-md);\n}\n.stat[data-v-35796a4b] {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  color: var(--color-text-muted);\n  font-size: 0.9rem;\n}\n","",{version:3,sources:["webpack://./src/components/ArticleCard.vue"],names:[],mappings:";AAiEA;EACE,eAAe;EACf,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,sCAAsC;AACxC;AAEA;EACE,kCAAkC;AACpC;AAEA;EACE,gCAAgC;AAClC;AAEA;EACE,iBAAiB;EACjB,gCAAgC;EAChC,gCAAgC;EAChC,gBAAgB;AAClB;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,kCAAkC;EAClC,iBAAiB;AACnB;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,kCAAkC;EAClC,wCAAwC;AAC1C;AAEA;EACE,2BAA2B;AAC7B;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;AAEA;EACE,OAAO;EACP,kCAAkC;EAClC,gBAAgB;EAChB,gCAAgC;AAClC;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,8BAA8B;EAC9B,yCAAyC;AAC3C;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;AAEA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,iBAAiB;EACjB,gBAAgB;AAClB;AAEA;EACE,aAAa;EACb,sBAAsB;AACxB;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,QAAQ;EACR,8BAA8B;EAC9B,iBAAiB;AACnB",sourcesContent:['<template>\r\n  <div class="article-card card" @click="goToArticle">\r\n    <div class="article-header">\r\n      <h3 class="article-title">{{ article.title }}</h3>\r\n      <div class="article-meta">\r\n        <router-link \r\n          :to="`/profile/${article.author.username}`" \r\n          class="author-link"\r\n          @click.stop>\r\n          <img :src="article.author.avatarUrl" :alt="article.author.username" class="author-avatar" />\r\n          <span>{{ article.author.username }}</span>\r\n        </router-link>\r\n        <span class="date">{{ formatDate(article.publishedAt) }}</span>\r\n      </div>\r\n    </div>\r\n    \r\n    <p class="article-excerpt">{{ article.excerpt }}</p>\r\n    \r\n    <div class="article-footer">\r\n      <div class="tags">\r\n        <span \r\n          v-for="tag in article.tags" \r\n          :key="tag.id" \r\n          class="tag"\r\n          :style="{ background: tag.color + \'20\', color: tag.color }">\r\n          {{ tag.name }}\r\n        </span>\r\n      </div>\r\n      <div class="stats">\r\n        <span class="stat">\r\n          <el-icon><View /></el-icon>\r\n          {{ article.likesCount }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useRouter } from \'vue-router\';\r\n\r\nconst props = defineProps({\r\n  article: {\r\n    type: Object,\r\n    required: true\r\n  }\r\n});\r\n\r\nconst router = useRouter();\r\n\r\nconst goToArticle = () => {\r\n  router.push(`/article/${props.article.id}`);\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  if (!date) return \'\';\r\n  return new Date(date).toLocaleDateString(\'zh-CN\', {\r\n    year: \'numeric\',\r\n    month: \'long\',\r\n    day: \'numeric\'\r\n  });\r\n};\r\n<\/script>\r\n\r\n<style scoped>\r\n.article-card {\r\n  cursor: pointer;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  transition: all var(--transition-fast);\r\n}\r\n\r\n.article-card:hover {\r\n  border-color: var(--color-primary);\r\n}\r\n\r\n.article-header {\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.article-title {\r\n  font-size: 1.5rem;\r\n  margin-bottom: var(--spacing-sm);\r\n  color: var(--color-text-primary);\r\n  line-height: 1.4;\r\n}\r\n\r\n.article-meta {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-md);\r\n  color: var(--color-text-secondary);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.author-link {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-sm);\r\n  color: var(--color-text-secondary);\r\n  transition: color var(--transition-fast);\r\n}\r\n\r\n.author-link:hover {\r\n  color: var(--color-primary);\r\n}\r\n\r\n.author-avatar {\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.article-excerpt {\r\n  flex: 1;\r\n  color: var(--color-text-secondary);\r\n  line-height: 1.6;\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.article-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding-top: var(--spacing-md);\r\n  border-top: 1px solid var(--color-border);\r\n}\r\n\r\n.tags {\r\n  display: flex;\r\n  gap: var(--spacing-sm);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.tag {\r\n  padding: 4px 10px;\r\n  border-radius: 12px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.stats {\r\n  display: flex;\r\n  gap: var(--spacing-md);\r\n}\r\n\r\n.stat {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  color: var(--color-text-muted);\r\n  font-size: 0.9rem;\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const l=i}}]);
//# sourceMappingURL=936.1c631b2a67818ac9481b.js.map