/*! For license information please see 271.1869c53bf1513903bb26.js.LICENSE.txt */
(self.webpackChunkxss_blog_frontend_webpack=self.webpackChunkxss_blog_frontend_webpack||[]).push([[271],{3271:(n,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>D});var t=e(1575),a=e(3523),o=e(5802),i=e(5048),c=e(3776),l=e(5341),s=e(5587);function m(n){return function(n){if(Array.isArray(n))return A(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,r){if(n){if("string"==typeof n)return A(n,r);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?A(n,r):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=Array(r);e<r;e++)t[e]=n[e];return t}function d(){var n,r,e="function"==typeof Symbol?Symbol:{},t=e.iterator||"@@iterator",a=e.toStringTag||"@@toStringTag";function o(e,t,a,o){var l=t&&t.prototype instanceof c?t:c,s=Object.create(l.prototype);return u(s,"_invoke",function(e,t,a){var o,c,l,s=0,m=a||[],A=!1,d={p:0,n:0,v:n,a:u,f:u.bind(n,4),d:function(r,e){return o=r,c=0,l=n,d.n=e,i}};function u(e,t){for(c=e,l=t,r=0;!A&&s&&!a&&r<m.length;r++){var a,o=m[r],u=d.p,g=o[2];e>3?(a=g===t)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=u&&((a=e<2&&u<o[1])?(c=0,d.v=t,d.n=o[1]):u<g&&(a=e<3||o[0]>t||t>g)&&(o[4]=e,o[5]=t,d.n=g,c=0))}if(a||e>1)return i;throw A=!0,t}return function(a,m,g){if(s>1)throw TypeError("Generator is already running");for(A&&1===m&&u(m,g),c=m,l=g;(r=c<2?n:l)||!A;){o||(c?c<3?(c>1&&(d.n=-1),u(c,l)):d.n=l:d.v=l);try{if(s=2,o){if(c||(a="next"),r=o[a]){if(!(r=r.call(o,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,c<2&&(c=0)}else 1===c&&(r=o.return)&&r.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((r=(A=d.n<0)?l:e.call(t,d))!==i)break}catch(r){o=n,c=1,l=r}finally{s=1}}return{value:r,done:A}}}(e,a,o),!0),s}var i={};function c(){}function l(){}function s(){}r=Object.getPrototypeOf;var m=[][t]?r(r([][t]())):(u(r={},t,function(){return this}),r),A=s.prototype=c.prototype=Object.create(m);function g(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,u(n,a,"GeneratorFunction")),n.prototype=Object.create(A),n}return l.prototype=s,u(A,"constructor",s),u(s,"constructor",l),l.displayName="GeneratorFunction",u(s,a,"GeneratorFunction"),u(A),u(A,a,"Generator"),u(A,t,function(){return this}),u(A,"toString",function(){return"[object Generator]"}),(d=function(){return{w:o,m:g}})()}function u(n,r,e,t){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}u=function(n,r,e,t){function o(r,e){u(n,r,function(n){return this._invoke(r,e,n)})}r?a?a(n,r,{value:e,enumerable:!t,configurable:!t,writable:!t}):n[r]=e:(o("next",0),o("throw",1),o("return",2))},u(n,r,e,t)}function g(n,r,e,t,a,o,i){try{var c=n[o](i),l=c.value}catch(n){return void e(n)}c.done?r(l):Promise.resolve(l).then(t,a)}function v(n){return function(){var r=this,e=arguments;return new Promise(function(t,a){var o=n.apply(r,e);function i(n){g(o,t,a,i,c,"next",n)}function c(n){g(o,t,a,i,c,"throw",n)}i(void 0)})}}var p={class:"article-detail-page"},C={key:0,class:"container"},f={class:"article-content"},E={class:"article-header"},h={class:"article-meta"},B=["src","alt"],b={class:"author-name"},x={class:"publish-date"},y={class:"article-stats"},k={class:"article-body"},w=["innerHTML"],S=["innerHTML"],L={class:"article-tags"},_={class:"comments-section"},X={key:0,class:"comment-form card"},j={key:0,class:"demo-info"},M={key:1,class:"login-prompt card"},z={class:"comment-author"},R=["src","alt"],F={class:"comment-author-name"},U={class:"comment-date"},T=["innerHTML"],H={key:1,class:"comment-content"},V={key:1,class:"loading"};const O={__name:"ArticleDetail",setup:function(n){var r=(0,a.lq)(),e=(0,i.J)(),A=(0,c.n)(),u=(0,t.KR)(null),g=(0,t.KR)([]),O=(0,t.KR)(!0),D=(0,t.KR)(""),P=(0,t.KR)(!1),N=function(){var n=v(d().m(function n(){var e,t,a;return d().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,o.A.get("/articles/".concat(r.params.id));case 1:return e=n.v,u.value=e.data,n.n=2,o.A.get("/articles/".concat(r.params.id,"/comments"));case 2:t=n.v,g.value=t.data,n.n=4;break;case 3:n.p=3,a=n.v,console.error("Failed to fetch article:",a);case 4:return n.p=4,O.value=!1,n.f(4);case 5:return n.a(2)}},n,null,[[0,3,4,5]])}));return function(){return n.apply(this,arguments)}}(),K=function(){var n=v(d().m(function n(){var e,t;return d().w(function(n){for(;;)switch(n.p=n.n){case 0:if(D.value.trim()){n.n=1;break}return n.a(2);case 1:return P.value=!0,n.p=2,n.n=3,o.A.post("/articles/".concat(r.params.id,"/comments"),{content:D.value});case 3:e=n.v,g.value.unshift(e.data),D.value="",s.nk.success("ËØÑËÆ∫ÂèëË°®ÊàêÂäüÔºÅ"),n.n=5;break;case 4:n.p=4,t=n.v,console.error("Failed to submit comment:",t),s.nk.error("ËØÑËÆ∫ÂèëË°®Â§±Ë¥•ÔºåËØ∑ÈáçËØï");case 5:return n.p=5,P.value=!1,n.f(5);case 6:return n.a(2)}},n,null,[[2,4,5,6]])}));return function(){return n.apply(this,arguments)}}(),W=function(n){return n?new Date(n).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"}):""};return(0,t.sV)(function(){N()}),function(n,r){var a=(0,t.g2)("router-link"),o=(0,t.g2)("View"),i=(0,t.g2)("el-icon"),c=(0,t.g2)("el-input"),s=(0,t.g2)("el-form-item"),d=(0,t.g2)("el-button"),v=(0,t.g2)("el-form");return(0,t.uX)(),(0,t.CE)("div",p,[!O.value&&u.value?((0,t.uX)(),(0,t.CE)("div",C,[(0,t.Lk)("article",f,[(0,t.Lk)("header",E,[(0,t.Lk)("h1",null,(0,t.v_)(u.value.title),1),(0,t.Lk)("div",h,[(0,t.bF)(a,{to:"/profile/".concat(u.value.author.username),class:"author-info"},{default:(0,t.k6)(function(){return[(0,t.Lk)("img",{src:u.value.author.avatarUrl,alt:u.value.author.username},null,8,B),(0,t.Lk)("div",null,[(0,t.Lk)("div",b,(0,t.v_)(u.value.author.username),1),(0,t.Lk)("div",x,(0,t.v_)(W(u.value.publishedAt)),1)])]}),_:1},8,["to"]),(0,t.Lk)("div",y,[(0,t.Lk)("span",null,[(0,t.bF)(i,null,{default:(0,t.k6)(function(){return[(0,t.bF)(o)]}),_:1}),(0,t.eW)(" "+(0,t.v_)(u.value.likesCount),1)])])])]),(0,t.Lk)("div",k,[(0,t.Q3)(" XSS Ê∏≤ÊüìËØ¥ÊòéÔºö\r\n               - VULNÔºöÊñáÁ´†Ê≠£ÊñáÂéüÊ†∑Ê∏≤ÊüìÔºàÂèØÊâßË°åËÑöÊú¨Ôºâ\r\n               - SECUREÔºö‰ΩøÁî® DOMPurify ÂáÄÂåñÔºåÈòªÊñ≠ËÑöÊú¨ÊâßË°å "),"vuln"===(0,t.R1)(e).xssMode?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"content",innerHTML:u.value.contentHtml},null,8,w)):((0,t.uX)(),(0,t.CE)("div",{key:1,class:"content",innerHTML:(0,t.R1)(l.LM)(u.value.contentHtml)},null,8,S))]),(0,t.Lk)("div",L,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.value.tags,function(n){return(0,t.uX)(),(0,t.CE)("span",{key:n.id,class:"tag",style:(0,t.Tr)({background:n.color+"20",color:n.color})},(0,t.v_)(n.name),5)}),128))])]),(0,t.Lk)("section",_,[(0,t.Lk)("h3",null,"ËØÑËÆ∫ ("+(0,t.v_)(g.value.length)+")",1),(0,t.Q3)(" ËØÑËÆ∫ËæìÂÖ•Ê°ÜÔºöÂè™Âú®ÁôªÂΩïÂêéÊòæÁ§∫ "),(0,t.R1)(A).isAuthenticated?((0,t.uX)(),(0,t.CE)("div",X,[(0,t.bF)(v,{onSubmit:(0,t.D$)(K,["prevent"])},{default:(0,t.k6)(function(){return[(0,t.bF)(s,null,{default:(0,t.k6)(function(){return[(0,t.bF)(c,{modelValue:D.value,"onUpdate:modelValue":r[0]||(r[0]=function(n){return D.value=n}),type:"textarea",rows:3,placeholder:"ÂÜô‰∏ã‰Ω†ÁöÑËØÑËÆ∫...",maxlength:"2000","show-word-limit":""},null,8,["modelValue"])]}),_:1}),(0,t.bF)(s,null,{default:(0,t.k6)(function(){return[(0,t.bF)(d,{type:"primary","native-type":"submit",loading:P.value,disabled:!D.value.trim()},{default:(0,t.k6)(function(){return m(r[1]||(r[1]=[(0,t.eW)(" ÂèëË°®ËØÑËÆ∫ ",-1)]))}),_:1},8,["loading","disabled"])]}),_:1})]}),_:1}),(0,t.Q3)(" XSS ÊèêÁ§∫ÔºàÂú∫ÊôØ 3 ËØÑËÆ∫Ë†ïËô´ÔºâÔºö‰ªÖÂú® VULN Ê®°ÂºèÂ±ïÁ§∫ÊîªÂáªÁ§∫‰æã "),"vuln"===(0,t.R1)(e).xssMode?((0,t.uX)(),(0,t.CE)("div",j,m(r[2]||(r[2]=[(0,t.Lk)("h4",null,"‚ö†Ô∏è ËØÑËÆ∫Ë†ïËô´ÊºîÁ§∫ÔºàÂú∫ÊôØ 3Ôºâ",-1),(0,t.Lk)("p",null,"ÂΩìÂâçÂ§Ñ‰∫é VULN Ê®°ÂºèÔºåËØÑËÆ∫ÂÜÖÂÆπÂ∞Ü‰∏çÁªèËøáÊª§Áõ¥Êé•Â≠òÂÇ®„ÄÇ",-1),(0,t.Lk)("p",{style:{"margin-top":"8px"}},"Á§∫‰æã PayloadÔºàËá™‰º†Êí≠Âà∞ 3 ÁØáÊñáÁ´†ÔºâÔºö",-1),(0,t.Lk)("code",{style:{"font-size":"0.75rem"}},"<img src=x onerror=\"/*ËßÅÊñáÊ°£ÂÆåÊï¥Ë†ïËô´‰ª£Á†Å*/alert('ËØÑËÆ∫ XSS')\">",-1),(0,t.Lk)("p",{style:{"margin-top":"8px","font-size":"0.85em",color:"var(--color-text-muted)"}}," üí° ÂÆåÊï¥ Payload ËØ∑Êü•Áúã„ÄäXSSÊºîÁ§∫Âú∫ÊôØËØ¥Êòé.md„Äã ",-1)])))):(0,t.Q3)("v-if",!0)])):((0,t.uX)(),(0,t.CE)("div",M,[(0,t.Lk)("p",null,[r[4]||(r[4]=(0,t.eW)("ÁôªÂΩïÂêéÊâçËÉΩÂèëË°®ËØÑËÆ∫„ÄÇ ",-1)),(0,t.bF)(a,{to:"/login"},{default:(0,t.k6)(function(){return m(r[3]||(r[3]=[(0,t.eW)("Á´ãÂç≥ÁôªÂΩï",-1)]))}),_:1})])])),(0,t.Q3)(" ËØÑËÆ∫ÂàóË°® "),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(g.value,function(n){return(0,t.uX)(),(0,t.CE)("div",{key:n.id,class:"comment card"},[(0,t.Lk)("div",z,[(0,t.Lk)("img",{src:n.user.avatarUrl,alt:n.user.username},null,8,R),(0,t.Lk)("div",null,[(0,t.Lk)("div",F,(0,t.v_)(n.user.username),1),(0,t.Lk)("div",U,(0,t.v_)(W(n.createdAt)),1)])]),(0,t.Q3)(" XSS Ê∏≤ÊüìËØ¥ÊòéÔºö\r\n               - VULNÔºöËØÑËÆ∫ÂéüÊ†∑Ê∏≤ÊüìÔºàÂ≠òÂÇ®Âûã XSS Á§∫‰æãÔºâ\r\n               - SECUREÔºöÁ∫ØÊñáÊú¨Ê∏≤Êüì "),"vuln"===(0,t.R1)(e).xssMode?((0,t.uX)(),(0,t.CE)("div",{key:0,class:"comment-content",innerHTML:n.contentHtml},null,8,T)):((0,t.uX)(),(0,t.CE)("div",H,(0,t.v_)(n.contentHtml),1))])}),128))])])):O.value?((0,t.uX)(),(0,t.CE)("div",V,m(r[5]||(r[5]=[(0,t.Lk)("div",{class:"spinner"},null,-1)])))):(0,t.Q3)("v-if",!0)])}}};e(8705);const D=(0,e(6262).A)(O,[["__scopeId","data-v-6e971768"]])},3730:(n,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>c});var t=e(1354),a=e.n(t),o=e(6314),i=e.n(o)()(a());i.push([n.id,"\n.article-detail-page[data-v-6e971768] {\n  padding: var(--spacing-2xl) 0;\n  min-height: calc(100vh - 80px);\n}\n.article-content[data-v-6e971768] {\n  background: var(--color-bg-card);\n  border-radius: var(--radius-md);\n  padding: var(--spacing-2xl);\n  margin-bottom: var(--spacing-xl);\n}\n.article-header[data-v-6e971768] {\n  margin-bottom: var(--spacing-2xl);\n  padding-bottom: var(--spacing-xl);\n  border-bottom: 1px solid var(--color-border);\n}\n.article-header h1[data-v-6e971768] {\n  font-size: 2.5rem;\n  margin-bottom: var(--spacing-lg);\n  line-height: 1.2;\n}\n.article-meta[data-v-6e971768] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.author-info[data-v-6e971768] {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  color: var(--color-text-primary);\n}\n.author-info img[data-v-6e971768] {\n  width: 48px;\n  height: 48px;\n  border-radius: 50%;\n  border: 2px solid var(--color-primary);\n}\n.author-name[data-v-6e971768] {\n  font-weight: 600;\n  margin-bottom: 4px;\n}\n.publish-date[data-v-6e971768] {\n  color: var(--color-text-muted);\n  font-size: 0.9rem;\n}\n.article-stats[data-v-6e971768] {\n  color: var(--color-text-muted);\n  display: flex;\n  gap: var(--spacing-lg);\n}\n.article-body[data-v-6e971768] {\n  margin-bottom: var(--spacing-2xl);\n}\n.content[data-v-6e971768] {\n  font-size: 1.1rem;\n  line-height: 1.8;\n  color: var(--color-text-primary);\n}\n.content[data-v-6e971768] h2,\n.content[data-v-6e971768] h3 {\n  margin-top: var(--spacing-xl);\n  margin-bottom: var(--spacing-md);\n}\n.content[data-v-6e971768] ul,\n.content[data-v-6e971768] ol {\n  margin-left: var(--spacing-xl);\n  margin-bottom: var(--spacing-md);\n}\n.content[data-v-6e971768] li {\n  margin-bottom: var(--spacing-sm);\n}\n.article-tags[data-v-6e971768] {\n  display: flex;\n  gap: var(--spacing-sm);\n  flex-wrap: wrap;\n}\n.tag[data-v-6e971768] {\n  padding: 6px 14px;\n  border-radius: 14px;\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n.comments-section[data-v-6e971768] {\n  background: var(--color-bg-card);\n  border-radius: var(--radius-md);\n  padding: var(--spacing-2xl);\n}\n.comments-section h3[data-v-6e971768] {\n  margin-bottom: var(--spacing-xl);\n}\n.comment-form[data-v-6e971768] {\n  margin-bottom: var(--spacing-xl);\n  padding: var(--spacing-lg);\n}\n.comment-form[data-v-6e971768] .el-form-item {\n  margin-bottom: var(--spacing-md);\n}\n.comment-form[data-v-6e971768] .el-form-item:last-child {\n  margin-bottom: 0;\n}\n.comment-form .demo-info[data-v-6e971768] {\n  margin-top: var(--spacing-lg);\n  padding: var(--spacing-md);\n  background: rgba(251, 146, 60, 0.1);\n  border: 2px solid rgba(251, 146, 60, 0.3);\n  border-radius: var(--radius-md);\n}\n.comment-form .demo-info h4[data-v-6e971768] {\n  color: var(--color-accent);\n  margin: 0 0 var(--spacing-sm) 0;\n  font-size: 0.95rem;\n}\n.comment-form .demo-info p[data-v-6e971768] {\n  color: var(--color-text-secondary);\n  margin: 0;\n  font-size: 0.85rem;\n}\n.comment-form .demo-info code[data-v-6e971768] {\n  display: block;\n  margin-top: var(--spacing-sm);\n  padding: var(--spacing-sm);\n  background: var(--color-bg-elevated);\n  border-radius: var(--radius-sm);\n  overflow-x: auto;\n  color: var(--color-accent);\n}\n.login-prompt[data-v-6e971768] {\n  padding: var(--spacing-xl);\n  text-align: center;\n  margin-bottom: var(--spacing-xl);\n  background: var(--color-bg-secondary);\n  border: 1px dashed var(--color-border);\n}\n.login-prompt p[data-v-6e971768] {\n  margin: 0;\n  color: var(--color-text-secondary);\n}\n.login-prompt a[data-v-6e971768] {\n  color: var(--color-primary);\n  text-decoration: none;\n  font-weight: 600;\n}\n.login-prompt a[data-v-6e971768]:hover {\n  text-decoration: underline;\n}\n.comment[data-v-6e971768] {\n  margin-bottom: var(--spacing-md);\n  padding: var(--spacing-lg);\n}\n.comment[data-v-6e971768]:hover {\n  transform: none;\n}\n.comment-author[data-v-6e971768] {\n  display: flex;\n  align-items: center;\n  gap: var(--spacing-md);\n  margin-bottom: var(--spacing-md);\n}\n.comment-author img[data-v-6e971768] {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n}\n.comment-author-name[data-v-6e971768] {\n  font-weight: 600;\n  margin-bottom: 2px;\n}\n.comment-date[data-v-6e971768] {\n  font-size: 0.85rem;\n  color: var(--color-text-muted);\n}\n.comment-content[data-v-6e971768] {\n  color: var(--color-text-secondary);\n  line-height: 1.6;\n}\n","",{version:3,sources:["webpack://./src/pages/ArticleDetail.vue"],names:[],mappings:";AA6KA;EACE,6BAA6B;EAC7B,8BAA8B;AAChC;AAEA;EACE,gCAAgC;EAChC,+BAA+B;EAC/B,2BAA2B;EAC3B,gCAAgC;AAClC;AAEA;EACE,iCAAiC;EACjC,iCAAiC;EACjC,4CAA4C;AAC9C;AAEA;EACE,iBAAiB;EACjB,gCAAgC;EAChC,gBAAgB;AAClB;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;AACrB;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,gCAAgC;AAClC;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,sCAAsC;AACxC;AAEA;EACE,gBAAgB;EAChB,kBAAkB;AACpB;AAEA;EACE,8BAA8B;EAC9B,iBAAiB;AACnB;AAEA;EACE,8BAA8B;EAC9B,aAAa;EACb,sBAAsB;AACxB;AAEA;EACE,iCAAiC;AACnC;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,gCAAgC;AAClC;AAEA;;EAEE,6BAA6B;EAC7B,gCAAgC;AAClC;AAEA;;EAEE,8BAA8B;EAC9B,gCAAgC;AAClC;AAEA;EACE,gCAAgC;AAClC;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,eAAe;AACjB;AAEA;EACE,iBAAiB;EACjB,mBAAmB;EACnB,iBAAiB;EACjB,gBAAgB;AAClB;AAEA;EACE,gCAAgC;EAChC,+BAA+B;EAC/B,2BAA2B;AAC7B;AAEA;EACE,gCAAgC;AAClC;AAEA;EACE,gCAAgC;EAChC,0BAA0B;AAC5B;AAEA;EACE,gCAAgC;AAClC;AAEA;EACE,gBAAgB;AAClB;AAEA;EACE,6BAA6B;EAC7B,0BAA0B;EAC1B,mCAAmC;EACnC,yCAAyC;EACzC,+BAA+B;AACjC;AAEA;EACE,0BAA0B;EAC1B,+BAA+B;EAC/B,kBAAkB;AACpB;AAEA;EACE,kCAAkC;EAClC,SAAS;EACT,kBAAkB;AACpB;AAEA;EACE,cAAc;EACd,6BAA6B;EAC7B,0BAA0B;EAC1B,oCAAoC;EACpC,+BAA+B;EAC/B,gBAAgB;EAChB,0BAA0B;AAC5B;AAEA;EACE,0BAA0B;EAC1B,kBAAkB;EAClB,gCAAgC;EAChC,qCAAqC;EACrC,sCAAsC;AACxC;AAEA;EACE,SAAS;EACT,kCAAkC;AACpC;AAEA;EACE,2BAA2B;EAC3B,qBAAqB;EACrB,gBAAgB;AAClB;AAEA;EACE,0BAA0B;AAC5B;AAEA;EACE,gCAAgC;EAChC,0BAA0B;AAC5B;AAEA;EACE,eAAe;AACjB;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,gCAAgC;AAClC;AAEA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;AACpB;AAEA;EACE,gBAAgB;EAChB,kBAAkB;AACpB;AAEA;EACE,kBAAkB;EAClB,8BAA8B;AAChC;AAEA;EACE,kCAAkC;EAClC,gBAAgB;AAClB",sourcesContent:['<template>\r\n  <div class="article-detail-page">\r\n    <div class="container" v-if="!loading && article">\r\n      <article class="article-content">\r\n        <header class="article-header">\r\n          <h1>{{ article.title }}</h1>\r\n          <div class="article-meta">\r\n            <router-link :to="`/profile/${article.author.username}`" class="author-info">\r\n              <img :src="article.author.avatarUrl" :alt="article.author.username" />\r\n              <div>\r\n                <div class="author-name">{{ article.author.username }}</div>\r\n                <div class="publish-date">{{ formatDate(article.publishedAt) }}</div>\r\n              </div>\r\n            </router-link>\r\n            <div class="article-stats">\r\n              <span><el-icon><View /></el-icon> {{ article.likesCount }}</span>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        \r\n        <div class="article-body">\r\n          \x3c!-- XSS Ê∏≤ÊüìËØ¥ÊòéÔºö\r\n               - VULNÔºöÊñáÁ´†Ê≠£ÊñáÂéüÊ†∑Ê∏≤ÊüìÔºàÂèØÊâßË°åËÑöÊú¨Ôºâ\r\n               - SECUREÔºö‰ΩøÁî® DOMPurify ÂáÄÂåñÔºåÈòªÊñ≠ËÑöÊú¨ÊâßË°å --\x3e\r\n          <div class="content"\r\n               v-if="configStore.xssMode === \'vuln\'"\r\n               v-html="article.contentHtml"></div>\r\n          <div class="content"\r\n               v-else\r\n               v-html="pure(article.contentHtml)"></div>\r\n        </div>\r\n        \r\n        <div class="article-tags">\r\n          <span v-for="tag in article.tags" :key="tag.id" class="tag" :style="{ background: tag.color + \'20\', color: tag.color }">\r\n            {{ tag.name }}\r\n          </span>\r\n        </div>\r\n      </article>\r\n      \r\n      <section class="comments-section">\r\n        <h3>ËØÑËÆ∫ ({{ comments.length }})</h3>\r\n        \r\n        \x3c!-- ËØÑËÆ∫ËæìÂÖ•Ê°ÜÔºöÂè™Âú®ÁôªÂΩïÂêéÊòæÁ§∫ --\x3e\r\n        <div v-if="authStore.isAuthenticated" class="comment-form card">\r\n          <el-form @submit.prevent="submitComment">\r\n            <el-form-item>\r\n              <el-input\r\n                v-model="newComment"\r\n                type="textarea"\r\n                :rows="3"\r\n                placeholder="ÂÜô‰∏ã‰Ω†ÁöÑËØÑËÆ∫..."\r\n                maxlength="2000"\r\n                show-word-limit\r\n              />\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type="primary" native-type="submit" :loading="submitting" :disabled="!newComment.trim()">\r\n                ÂèëË°®ËØÑËÆ∫\r\n              </el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n          \r\n          \x3c!-- XSS ÊèêÁ§∫ÔºàÂú∫ÊôØ 3 ËØÑËÆ∫Ë†ïËô´ÔºâÔºö‰ªÖÂú® VULN Ê®°ÂºèÂ±ïÁ§∫ÊîªÂáªÁ§∫‰æã --\x3e\r\n          <div class="demo-info" v-if="configStore.xssMode === \'vuln\'">\r\n            <h4>‚ö†Ô∏è ËØÑËÆ∫Ë†ïËô´ÊºîÁ§∫ÔºàÂú∫ÊôØ 3Ôºâ</h4>\r\n            <p>ÂΩìÂâçÂ§Ñ‰∫é VULN Ê®°ÂºèÔºåËØÑËÆ∫ÂÜÖÂÆπÂ∞Ü‰∏çÁªèËøáÊª§Áõ¥Êé•Â≠òÂÇ®„ÄÇ</p>\r\n            <p style="margin-top: 8px;">Á§∫‰æã PayloadÔºàËá™‰º†Êí≠Âà∞ 3 ÁØáÊñáÁ´†ÔºâÔºö</p>\r\n            <code style="font-size: 0.75rem;">&lt;img src=x onerror="/*ËßÅÊñáÊ°£ÂÆåÊï¥Ë†ïËô´‰ª£Á†Å*/alert(\'ËØÑËÆ∫ XSS\')"&gt;</code>\r\n            <p style="margin-top: 8px; font-size: 0.85em; color: var(--color-text-muted);">\r\n              üí° ÂÆåÊï¥ Payload ËØ∑Êü•Áúã„ÄäXSSÊºîÁ§∫Âú∫ÊôØËØ¥Êòé.md„Äã\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div v-else class="login-prompt card">\r\n          <p>ÁôªÂΩïÂêéÊâçËÉΩÂèëË°®ËØÑËÆ∫„ÄÇ <router-link to="/login">Á´ãÂç≥ÁôªÂΩï</router-link></p>\r\n        </div>\r\n        \r\n        \x3c!-- ËØÑËÆ∫ÂàóË°® --\x3e\r\n        <div v-for="comment in comments" :key="comment.id" class="comment card">\r\n          <div class="comment-author">\r\n            <img :src="comment.user.avatarUrl" :alt="comment.user.username" />\r\n            <div>\r\n              <div class="comment-author-name">{{ comment.user.username }}</div>\r\n              <div class="comment-date">{{ formatDate(comment.createdAt) }}</div>\r\n            </div>\r\n          </div>\r\n          \x3c!-- XSS Ê∏≤ÊüìËØ¥ÊòéÔºö\r\n               - VULNÔºöËØÑËÆ∫ÂéüÊ†∑Ê∏≤ÊüìÔºàÂ≠òÂÇ®Âûã XSS Á§∫‰æãÔºâ\r\n               - SECUREÔºöÁ∫ØÊñáÊú¨Ê∏≤Êüì --\x3e\r\n          <div class="comment-content"\r\n               v-if="configStore.xssMode === \'vuln\'"\r\n               v-html="comment.contentHtml"></div>\r\n          <div class="comment-content"\r\n               v-else>{{ comment.contentHtml }}</div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n    \r\n    <div v-else-if="loading" class="loading">\r\n      <div class="spinner"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// ÊñáÁ´†ËØ¶ÊÉÖ‰∏éËØÑËÆ∫ÔºàÂú∫ÊôØ 3ÔºöËØÑËÆ∫Ë†ïËô´Ôºâ\r\nimport { ref, onMounted } from \'vue\';\r\nimport { useRoute } from \'vue-router\';\r\nimport axios from \'@/api/axios\';\r\nimport { useConfigStore } from \'@/stores/config\';\r\nimport { useAuthStore } from \'@/stores/auth\';\r\nimport { pure } from \'@/utils/xss\';\r\nimport { ElMessage } from \'element-plus\';\r\n\r\nconst route = useRoute();\r\nconst configStore = useConfigStore();\r\nconst authStore = useAuthStore();\r\nconst article = ref(null);\r\nconst comments = ref([]);\r\nconst loading = ref(true);\r\nconst newComment = ref(\'\');\r\nconst submitting = ref(false);\r\n\r\nconst fetchArticle = async () => {\r\n  try {\r\n    const response = await axios.get(`/articles/${route.params.id}`);\r\n    article.value = response.data;\r\n    \r\n    const commentsResponse = await axios.get(`/articles/${route.params.id}/comments`);\r\n    comments.value = commentsResponse.data;\r\n  } catch (error) {\r\n    console.error(\'Failed to fetch article:\', error);\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nconst submitComment = async () => {\r\n  if (!newComment.value.trim()) return;\r\n  \r\n  submitting.value = true;\r\n  try {\r\n    const response = await axios.post(`/articles/${route.params.id}/comments`, {\r\n      content: newComment.value\r\n    });\r\n    \r\n    // Ê∑ªÂä†Êñ∞ËØÑËÆ∫Âà∞ÂàóË°®È¶ñ‰Ωç\r\n    comments.value.unshift(response.data);\r\n    newComment.value = \'\';\r\n    ElMessage.success(\'ËØÑËÆ∫ÂèëË°®ÊàêÂäüÔºÅ\');\r\n  } catch (error) {\r\n    console.error(\'Failed to submit comment:\', error);\r\n    ElMessage.error(\'ËØÑËÆ∫ÂèëË°®Â§±Ë¥•ÔºåËØ∑ÈáçËØï\');\r\n  } finally {\r\n    submitting.value = false;\r\n  }\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  if (!date) return \'\';\r\n  return new Date(date).toLocaleDateString(\'zh-CN\', {\r\n    year: \'numeric\',\r\n    month: \'long\',\r\n    day: \'numeric\'\r\n  });\r\n};\r\n\r\nonMounted(() => {\r\n  fetchArticle();\r\n});\r\n<\/script>\r\n\r\n<style scoped>\r\n.article-detail-page {\r\n  padding: var(--spacing-2xl) 0;\r\n  min-height: calc(100vh - 80px);\r\n}\r\n\r\n.article-content {\r\n  background: var(--color-bg-card);\r\n  border-radius: var(--radius-md);\r\n  padding: var(--spacing-2xl);\r\n  margin-bottom: var(--spacing-xl);\r\n}\r\n\r\n.article-header {\r\n  margin-bottom: var(--spacing-2xl);\r\n  padding-bottom: var(--spacing-xl);\r\n  border-bottom: 1px solid var(--color-border);\r\n}\r\n\r\n.article-header h1 {\r\n  font-size: 2.5rem;\r\n  margin-bottom: var(--spacing-lg);\r\n  line-height: 1.2;\r\n}\r\n\r\n.article-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.author-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-md);\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.author-info img {\r\n  width: 48px;\r\n  height: 48px;\r\n  border-radius: 50%;\r\n  border: 2px solid var(--color-primary);\r\n}\r\n\r\n.author-name {\r\n  font-weight: 600;\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.publish-date {\r\n  color: var(--color-text-muted);\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.article-stats {\r\n  color: var(--color-text-muted);\r\n  display: flex;\r\n  gap: var(--spacing-lg);\r\n}\r\n\r\n.article-body {\r\n  margin-bottom: var(--spacing-2xl);\r\n}\r\n\r\n.content {\r\n  font-size: 1.1rem;\r\n  line-height: 1.8;\r\n  color: var(--color-text-primary);\r\n}\r\n\r\n.content :deep(h2),\r\n.content :deep(h3) {\r\n  margin-top: var(--spacing-xl);\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.content :deep(ul),\r\n.content :deep(ol) {\r\n  margin-left: var(--spacing-xl);\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.content :deep(li) {\r\n  margin-bottom: var(--spacing-sm);\r\n}\r\n\r\n.article-tags {\r\n  display: flex;\r\n  gap: var(--spacing-sm);\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.tag {\r\n  padding: 6px 14px;\r\n  border-radius: 14px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.comments-section {\r\n  background: var(--color-bg-card);\r\n  border-radius: var(--radius-md);\r\n  padding: var(--spacing-2xl);\r\n}\r\n\r\n.comments-section h3 {\r\n  margin-bottom: var(--spacing-xl);\r\n}\r\n\r\n.comment-form {\r\n  margin-bottom: var(--spacing-xl);\r\n  padding: var(--spacing-lg);\r\n}\r\n\r\n.comment-form :deep(.el-form-item) {\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.comment-form :deep(.el-form-item:last-child) {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.comment-form .demo-info {\r\n  margin-top: var(--spacing-lg);\r\n  padding: var(--spacing-md);\r\n  background: rgba(251, 146, 60, 0.1);\r\n  border: 2px solid rgba(251, 146, 60, 0.3);\r\n  border-radius: var(--radius-md);\r\n}\r\n\r\n.comment-form .demo-info h4 {\r\n  color: var(--color-accent);\r\n  margin: 0 0 var(--spacing-sm) 0;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.comment-form .demo-info p {\r\n  color: var(--color-text-secondary);\r\n  margin: 0;\r\n  font-size: 0.85rem;\r\n}\r\n\r\n.comment-form .demo-info code {\r\n  display: block;\r\n  margin-top: var(--spacing-sm);\r\n  padding: var(--spacing-sm);\r\n  background: var(--color-bg-elevated);\r\n  border-radius: var(--radius-sm);\r\n  overflow-x: auto;\r\n  color: var(--color-accent);\r\n}\r\n\r\n.login-prompt {\r\n  padding: var(--spacing-xl);\r\n  text-align: center;\r\n  margin-bottom: var(--spacing-xl);\r\n  background: var(--color-bg-secondary);\r\n  border: 1px dashed var(--color-border);\r\n}\r\n\r\n.login-prompt p {\r\n  margin: 0;\r\n  color: var(--color-text-secondary);\r\n}\r\n\r\n.login-prompt a {\r\n  color: var(--color-primary);\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n}\r\n\r\n.login-prompt a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.comment {\r\n  margin-bottom: var(--spacing-md);\r\n  padding: var(--spacing-lg);\r\n}\r\n\r\n.comment:hover {\r\n  transform: none;\r\n}\r\n\r\n.comment-author {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: var(--spacing-md);\r\n  margin-bottom: var(--spacing-md);\r\n}\r\n\r\n.comment-author img {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.comment-author-name {\r\n  font-weight: 600;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.comment-date {\r\n  font-size: 0.85rem;\r\n  color: var(--color-text-muted);\r\n}\r\n\r\n.comment-content {\r\n  color: var(--color-text-secondary);\r\n  line-height: 1.6;\r\n}\r\n</style>\r\n'],sourceRoot:""}]);const c=i},8705:(n,r,e)=>{var t=e(3730);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[n.id,t,""]]),t.locals&&(n.exports=t.locals),(0,e(534).A)("2faa63a7",t,!1,{})}}]);
//# sourceMappingURL=271.1869c53bf1513903bb26.js.map